<div class="main-page" [class.modal-open]="isModalVisible">
<div class="text">
</div>
<h1 class="ListTitle">Your Anime List</h1>
<div class="menu">
<button (click)="setFilter('all')" >Get Your Whole Anime List</button>
<button (click)="setFilter('completed')">Get Completed</button>
<button (click)="setFilter('dropped')">Get Dropped</button>
<button (click)="setFilter('watching')">Get Watching</button>
<button (click)="setFilter('on_hold')">Get On-Hold</button>
<button (click)="setFilter('plan_to_watch')">Get Plan to Watch</button>
<button  (click)="logOut()">Log Out</button>
</div>
<div class="search-div">
<input class="searchBox"type="text" placeholder="Search..." (input)="onSearch($event)">
</div>
<div class="anime-list">

@for (list of animeList(); track list.node.id){
    <div class="AnimeCard" (click)="getInfo(list.node.id)"><img [src]="list.node.main_picture.medium"/><div class="AnimeInfo"><p>{{list.node.title}}</p> <p>Status:
        @if (list.list_status.status == "plan_to_watch"){
            plan to watch
        }
        @else if (list.list_status.status == "on_hold") {
            on hold
        }
        @else
        {
         {{list.list_status.status}}
        }
        </p>
    @if (list.list_status.score !== 0) 
    {
    <div>Score: {{list.list_status.score}}</div>
    }
     @else
    {
    <div>Score: N/A</div>
    }
    </div>
</div>
    }
    @if (animeList().length !== 0){
     @if (isModalVisible){
    <app-modal (close)="hideModal()"></app-modal>
    }
}@else
{
    <div>No anime here.</div>
}
</div> 
</div>

